var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,c=(e,t)=>{for(var a in t||(t={}))l.call(t,a)&&s(e,a,t[a]);if(n)for(var a of n(t))r.call(t,a)&&s(e,a,t[a]);return e},i=(e,n)=>t(e,a(n));import{R as m,r as o,s as d,t as f,v as u,w as _,D as p,c as v}from"./vendor.335fc97d.js";const g=({title:e,children:t,warning:a})=>m.createElement("div",{style:{whiteSpace:"pre"}},[`\nï¼ ï¿£ï¿£ ï¼¼ã€€\n|ã€€ãƒ¼ã€€ãƒ¼ \\ã€€ ï¼ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¼¼\n|ã€€ â—‰ã€€â—‰ |   |ã€€   ${e}    \\\n\\ã€€ã€€ â–±ã€€/ âˆ      ${t}   /\n ï¼¼ã€€ã€€ ã‚¤ã€€ \\ ________________/\nï¼ã€€ã€€ã€€\\\n/ã€€|ã€€ã€€ã€€ \\\n|ã€€|ã€€ã€€ã€€ | |\n`.trim(),`\nï¼ ï¿£ï¿£ ï¼¼ã€€\n|ã€€ä¹€ã€€âˆš   \\ã€€ ï¼ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¿£ï¼¼\n|ã€€ â—‰ã€€â—‰ |   |ã€€   ${e}    \\\n\\ã€€  / çš¿\\  / âˆ     ${t}  /\n ï¼¼ã€€ã€€ ã‚¤ã€€ \\ ________________/\nï¼ã€€ã€€ã€€\\\n/ã€€|ã€€ã€€ã€€ \\\n|ã€€|ã€€ã€€ã€€ | |\n`.trim()][a?1:0]);g.HuTao=()=>m.createElement("div",{style:{whiteSpace:"pre"}},"\nã€‚  ____/ L \\___\n   ï½œ       \\ Y /    ï½œ\n Ë¡  â€”â€”â€”â€”â€”â€”â€”â€” Ë¡ã€‚\n  ãƒª //  ãƒ¼ã€€ãƒ¼ \\\\   â–        â€”â€”â€”â€”\n//  â€–â€–ã€€ âœª     âœª â€–\\\\        /    â€”       â€”  \\\n  ï½œâ€–\\   ã€€ â–½    /â€–         |          â–½         |\n   ã€Šâ€– ï¼¼ ã€€ ã‚¤  â€–ã€‹        \\                  /\n   ã€‹  ï¼ ã€Œã€\\   ã€Š   ï¼œ    |            /    ï¼\nã€Š   /  |   =âˆ=  \\    ã€‹        /       /\nå·  |   |     =Â·=    | |   ã€Š    /    /\n".trim()),g.Tank=()=>m.createElement("pre",null,"\nâ–„â–„â–„â–„â–„â–„â–ˆâ–ˆâ–ˆã€“â–ˆ\nã€€ã€€â–‚â–ƒâ–„â–…â–ˆâ–ˆâ–ˆâ–ˆâ–…â–„â–„â–„â–„â—\nã€€ã€€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\nã€€ã€€â—¥âŠ™â–²âŠ™â–²âŠ™â–²âŠ™â–²âŠ™â–²âŠ™â–²â—¤\n  ".trim());var E=function(){return{all:e=e||new o,on:function(t,a){var n=e.get(t);n&&n.push(a)||e.set(t,[a])},off:function(t,a){var n=e.get(t);n&&d(n).call(n,f(n).call(n,a)>>>0,1)},emit:function(t,a){var n,l,r,s;u(n=_(l=e.get(t)||[]).call(l)).call(n,(function(e){e(a)})),u(r=_(s=e.get("*")||[]).call(s)).call(r,(function(e){e(t,a)}))}};var e};"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?m.useLayoutEffect:m.useEffect;let w=0;const y=()=>w++,b=new Map([["ğŸ“",{name:"è‰è“",value:200}],["ğŸ‡",{name:"è‘¡è„",value:100}],["ğŸŒ½",{name:"ç‰ç±³",value:50}],["ğŸŸ",{name:"è–¯æ¡",value:300}]]),I=m.createContext({farmMitt:{on(){},off(){},emit(){}}}),x=m.memo((({handleClick:e})=>{const[t,a]=p.exports.useState(null),[n,l]=p.exports.useState(!1),{farmMitt:r}=p.exports.useContext(I),s=t?n?t.type:"ğŸŒ±":null;return m.createElement("div",{className:"sf-field",onClick:()=>{if(t)n&&(r.emit("HARVEST",t),a(null),l(!1));else{const t=e();t&&(r.emit("PLANT",void 0),a(t),setTimeout((()=>{l(!0)}),3e3))}}},m.createElement("div",{className:"sf-field__inner"},s))})),h=(e,t)=>{const a=e.findIndex(t);return-1!==a?[...e.slice(0,a),...e.slice(a+1,e.length)]:e},B=({children:e})=>{p.exports.useEffect((()=>{}));const[t,a]=p.exports.useState((()=>({fields:new Map,selectedBagItem:null,bag:[{id:y(),type:"ğŸ“"},{id:y(),type:"ğŸ“"}],wallet:300}))),[n]=p.exports.useState((()=>{const e=E();return e.on("SELECT_BAG_ITEM",(e=>a((t=>{var a;return i(c({},t),{selectedBagItem:(null==(a=t.selectedBagItem)?void 0:a.id)===e.id?null:e})})))),e.on("PLANT",(()=>a((e=>i(c({},e),{selectedBagItem:null,bag:h(e.bag,(t=>{var a;return(null==(a=e.selectedBagItem)?void 0:a.id)===t.id}))}))))),e.on("HARVEST",(e=>{a((t=>i(c({},t),{wallet:t.wallet+b.get(e.type).value})))})),e})),l=p.exports.useMemo((()=>({farmMitt:n})),[n]);return m.createElement(I.Provider,{value:l},m.createElement("div",{className:"sf-farm"},m.createElement("span",{className:"sf-farm__wallet"},t.wallet),m.createElement("span",{className:v("sf-farm__store",t.wallet<100&&"sf-farm__store--disabled"),onClick:()=>{var e,n;if(t.wallet>=100){const t=e=>{a((t=>i(c({},t),{bag:[...t.bag,{id:y(),type:e}],wallet:t.wallet-100})))},l={"ğŸ“":30,"ğŸ‡":30,"ğŸŒ½":30,"ğŸŸ":10},r=100*Math.random();console.log(r);const s=[...Object.entries(l)];for(let a=0;a<s.length;a++)if(s[a][1]=s[a][1]+(null!=(n=null==(e=s[a-1])?void 0:e[1])?n:0),s[a][1]>=r)return t(s[a][0])}}},"ğŸ²"),m.createElement(N,null,[...Array(9).keys()].map((e=>m.createElement(x,{key:e,handleClick:()=>{if(t.selectedBagItem){return t.selectedBagItem}}}))))),m.createElement(S,{selectedBagItem:t.selectedBagItem,bag:t.bag}))},N=({children:e})=>m.createElement("div",{className:"sf-farm-field-set"},e),S=m.memo((({bag:e,selectedBagItem:t})=>m.createElement("div",{className:"sf-farm-bag"},e.map((({id:e,type:a})=>m.createElement(T,{key:e,id:e,type:a,active:(null==t?void 0:t.id)===e})))))),T=m.memo((({id:e,type:t,active:a})=>{var n;const l=p.exports.useContext(I);return m.createElement("div",{className:v("st-farm-plant-seed",a&&"st-farm-plant-seed--active"),onClick:()=>l.farmMitt.emit("SELECT_BAG_ITEM",{id:e,type:t})},m.createElement("div",{className:"st-farm-plant-seed__image"},t),m.createElement("div",{className:"st-farm-plant-seed__title"},null==(n=b.get(t))?void 0:n.name))}));export{g as D,B as F};
