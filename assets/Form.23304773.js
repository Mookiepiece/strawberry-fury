var r=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(e,n,t)=>n in e?r(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,l=(r,e)=>{for(var n in e||(e={}))a.call(e,n)&&s(r,n,e[n]);if(t)for(var n of t(e))i.call(e,n)&&s(r,n,e[n]);return r},o=(r,t)=>e(r,n(t));import{R as m,D as u}from"./vendor.a45e0c66.js";import{F as c,B as h}from"./index.ec14a125.js";import{P as d}from"./PageWalker.05c4e2aa.js";const f=({value:r,onChange:e})=>{if("string"!=typeof r||!e)throw new Error("[St Input] missing prop `value` and `onChange`");return m.createElement("input",{className:"st-input",type:"text",value:r,onChange:r=>e(r.target.value)})};var g=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[r]=u.exports.useState({name:"12",hair:""}),[e]=u.exports.useState({name:"",hair:""}),[n,t]=u.exports.useState(!1),a=c.useRef(),i=()=>{var r;t(!0),null==(r=a.current)||r.validate().then((r=>{alert("ğŸ‰"+JSON.stringify(r,null,4))})).catch((r=>alert(JSON.stringify(r,null,4)))).finally((()=>{t(!1)}))};return m.createElement(m.Fragment,null,m.createElement("div",{style:{maxWidth:300}},m.createElement(c,{initialValue:r,action:async r=>new Promise((e=>{setTimeout((()=>{alert(`submit${JSON.stringify(r)}`),e()}),2e3)}))},m.createElement(c.Item,{label:"User Name",name:"name",rules:[{required:!0},{type:"string",min:5}]},m.createElement(f,null)),m.createElement(c.Item,{label:"User Hair",name:"hair",rules:[{type:"string",min:5,message:"User hair must longer than 5"},{required:!0,message:"hair is rrrrrrequired"}]},m.createElement(f,null)),m.createElement(c.Item,{label:"User Hair Plus",name:"hair",rules:[{type:"string",asyncValidator:(r,e)=>new Promise(((r,n)=>{setTimeout((()=>{e.length<10?n("too short"):r(void 0)}),2e3)}))}]},(({withLabel:r,value:e,onChange:n})=>r(m.createElement(f,{value:e,onChange:n})))),m.createElement("div",null,m.createElement(c.SubmitButton,{primary:!0},"æäº¤ Submit"),"Â ",m.createElement(h,{type:"reset"},"é‡ç½® Reset")))),m.createElement("br",null),m.createElement("br",null),m.createElement("div",{style:{maxWidth:300}},m.createElement(c,{initialValue:e,ref:a,onSubmit:i},m.createElement(c.Item,{label:"User Name",name:"name",rules:[{required:!0},{type:"string",min:5}]},m.createElement(f,null)),m.createElement(c.Item,{label:"User Hair",name:"hair",rules:[{type:"string",min:5,message:"User hair must longer than 5"},{required:!0,message:"hair is rrrrrrequired"}]},m.createElement(f,null)),m.createElement(c.Item,{label:"User Hair Plus",name:"hair",rules:[{type:"string",asyncValidator:(r,e)=>new Promise(((r,n)=>{setTimeout((()=>{e.length<10?n("too short"):r(void 0)}),2e3)}))}]},(({withLabel:r,value:e,onChange:n})=>r(m.createElement(f,{value:e,onChange:n})))),m.createElement("div",null,m.createElement(c.SubmitButton,{primary:!0},"æäº¤ Submit"),"Â ",m.createElement(h,{type:"reset"},"é‡ç½® Reset")))),m.createElement("br",null),m.createElement(h,{loading:n,onClick:i},"æ‰‹åŠ¨æäº¤ mannually validate and submit"),m.createElement("br",null),m.createElement("br",null),m.createElement(h,{onClick:()=>{var r;return null==(r=a.current)?void 0:r.reset()}},"æ‰‹åŠ¨é‡ç½® mannually reset"))}});var p=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[r]=u.exports.useState({name:"",hair:[]}),e=c.useRef();return m.createElement(m.Fragment,null,m.createElement(c,{initialValue:r,ref:e,action:async r=>alert("ğŸ‰"+JSON.stringify(r,null,4))},m.createElement(c.Item,{label:"User Name",name:"name",rules:{required:!0}},m.createElement(f,null)),m.createElement(c.Item,{name:"hair"},(({value:r,onChange:n})=>m.createElement(m.Fragment,null,r.map(((r,e)=>m.createElement(c.Item,{key:e,label:`User Hair ${e}`,name:`hair.${e}`,rules:[{type:"string",asyncValidator:(r,e)=>new Promise(((r,n)=>{setTimeout((()=>{e.length<5?n("too short"):r()}),2e3)}))}]},m.createElement(f,null)))),m.createElement(h,{onClick:()=>{var r;return null==(r=e.current)?void 0:r.set((r=>o(l({},r),{hair:[...r.hair,Date.now().toString()]})))}},"Add"),m.createElement(h,{onClick:()=>n(r.slice(0,-1))},"Rm")))),m.createElement(c.SubmitButton,null,"æäº¤ Submit")))}});var b=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[r]=u.exports.useState({user:{name:"",hair:""}}),e=c.useRef();return m.createElement(m.Fragment,null,m.createElement(c,{initialValue:r,ref:e,action:async r=>alert("ğŸ‰"+JSON.stringify(r,null,4))},m.createElement(c.Item,{name:"user"},(({value:r,onChange:e})=>m.createElement(m.Fragment,null,m.createElement("p",null,"I got ",r.name," and ",r.hair),m.createElement(c.Item,{label:"User Name",name:"user.name"},(({value:n,withLabel:t})=>t((console.log("[docs][nesting] rerendered"),m.createElement(f,{value:n,onChange:n=>e(o(l({},r),{name:n}))}))))),m.createElement(c.Item,{label:"User Hair (wrong usage)",name:"user.hair"},m.createElement(f,null))))),m.createElement(c.SubmitButton,null,"æäº¤ Submit")))}});var v=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[r]=u.exports.useState({hair:"",checkHair:""}),e=c.useRef();return m.createElement(m.Fragment,null,m.createElement("div",{style:{maxWidth:300}},m.createElement(c,{initialValue:r,ref:e,action:async r=>{alert(`ğŸ‰${JSON.stringify(r,null,4)}`)}},m.createElement(c.Item,{label:"User Hair",name:"hair",rules:[{type:"string",validator:()=>{var r,n;return(null==(r=e.current)?void 0:r.value.checkHair)&&(null==(n=e.current)||n.validate(["checkHair"])),[]}}]},m.createElement(f,null)),m.createElement(c.Item,{label:"User Hair Plus",name:"checkHair",rules:[{type:"string",validator:(r,n)=>{var t;return(null==(t=e.current)?void 0:t.value.hair)!==n?["value must equal"]:[]}}]},m.createElement(f,null)),m.createElement("div",null,m.createElement(c.SubmitButton,{primary:!0},"æäº¤ Submit"),"Â ",m.createElement(h,{type:"reset"},"é‡ç½® Reset")))))}});var y=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[r]=u.exports.useState({name:""}),e=c.useRef(),[n,t]=u.exports.useState([{required:!0}]);return m.createElement(m.Fragment,null,m.createElement(c,{initialValue:r,ref:e,action:[async r=>{return(n=r.name,new Promise(((r,e)=>{setTimeout((()=>{/^\d/.test(n)?e({code:666,message:"username cannot starts with number 1234567890"}):"hack"===n&&e({code:555,message:"server error"}),r(0)}),2e3)}))).then((()=>{alert("ğŸ‰ "+r.name)})).catch((async n=>{var a;666===n.code&&n.message?(null==(a=e.current)||a.setValidateStatus("name",{state:"error",message:n.message}),t([{required:!0},{validator(e,n,t){n===r.name&&t("our api seems to not like this name, please pick another"),t()}}])):alert("ğŸ’¢ server error")}));var n},r=>{alert("ğŸ’¢"+JSON.stringify(r,null,4))}]},m.createElement(c.Item,{label:"User Name",name:"name",rules:n},m.createElement(f,null)),m.createElement(c.SubmitButton,null,"æäº¤ Submit")))}});const S=()=>{const[r,e]=u.exports.useState(!1),[n,t]=u.exports.useState(),a=u.exports.useRef(0);return m.createElement(c.Item,{name:"name",label:"name",rules:[{async asyncValidator(r,i){if(n===i)return;const s=++a.current;e(!0);try{await(l=i,new Promise(((r,e)=>setTimeout((()=>{l.startsWith("0")&&e("cannot starts with zero"),r()}),2e3)))),a.current===s&&t(i)}finally{a.current===s&&e(!1)}var l}}]},(({withLabel:e,value:t,onChange:a})=>e(m.createElement("div",{style:{borderWidth:5,borderStyle:"solid",borderColor:n===t?"lime":r?"gray":"transparent",transition:"all .3s"}},m.createElement(f,{value:t,onChange:a})))))};const F={"/src/st-assets/Form/basic.tsx":g,"/src/st-assets/Form/list.tsx":p,"/src/st-assets/Form/nesting.tsx":b,"/src/st-assets/Form/pass.tsx":v,"/src/st-assets/Form/remote.tsx":y,"/src/st-assets/Form/status.tsx":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{const[r]=u.exports.useState({name:"",hair:""}),e=c.useRef();return m.createElement(m.Fragment,null,m.createElement(c,{initialValue:r,ref:e,action:async r=>alert("ğŸ‰"+JSON.stringify(r,null,4))},m.createElement(S,null),m.createElement(c.SubmitButton,null,"æäº¤ Submit")))}})},I={basic:"import React, { useState } from 'react';\r\nimport { Form, Button, Input } from 'starfall';\r\nconst BasicUsage: React.FC = () => {\r\n  const [initialValue] = useState({\r\n    name: '12',\r\n    hair: '',\r\n  });\r\n  const [initialValue2] = useState({\r\n    name: '',\r\n    hair: '',\r\n  });\r\n\r\n  const [isValidating, setIsValidating] = useState(false);\r\n  const formRef = Form.useRef<{\r\n    name: string;\r\n    hair: string;\r\n  }>();\r\n\r\n  const mannuallySubmit = () => {\r\n    setIsValidating(true);\r\n    formRef.current\r\n      ?.validate()\r\n      .then(value => {\r\n        alert('ğŸ‰' + JSON.stringify(value, null, 4));\r\n      })\r\n      .catch(e => alert(JSON.stringify(e, null, 4)))\r\n      .finally(() => {\r\n        setIsValidating(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ maxWidth: 300 }}>\r\n        <Form<{\r\n          name: string;\r\n          hair: string;\r\n        }>\r\n          initialValue={initialValue}\r\n          action={async value =>\r\n            new Promise(resolve => {\r\n              setTimeout(() => {\r\n                alert(`submit${JSON.stringify(value)}`);\r\n                resolve();\r\n              }, 2000);\r\n            })\r\n          }\r\n        >\r\n          <Form.Item\r\n            label=\"User Name\"\r\n            name=\"name\"\r\n            rules={[\r\n              { required: true },\r\n              {\r\n                type: 'string',\r\n                min: 5,\r\n              },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"User Hair\"\r\n            name=\"hair\"\r\n            rules={[\r\n              { type: 'string', min: 5, message: 'User hair must longer than 5' },\r\n              { required: true, message: 'hair is rrrrrrequired' },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"User Hair Plus\"\r\n            name=\"hair\"\r\n            rules={[\r\n              {\r\n                type: 'string',\r\n                asyncValidator: (rules, value) => {\r\n                  return new Promise((resolve, reject) => {\r\n                    setTimeout(() => {\r\n                      if (value.length < 10) {\r\n                        reject('too short');\r\n                      } else {\r\n                        resolve(undefined);\r\n                      }\r\n                    }, 2000);\r\n                  });\r\n                },\r\n              },\r\n            ]}\r\n          >\r\n            {({ withLabel, value, onChange }) =>\r\n              withLabel(<Input value={value} onChange={onChange} />)\r\n            }\r\n          </Form.Item>\r\n          <div>\r\n            <Form.SubmitButton primary>æäº¤ Submit</Form.SubmitButton>\r\n            &nbsp;\r\n            <Button type=\"reset\">é‡ç½® Reset</Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <div style={{ maxWidth: 300 }}>\r\n        <Form<{\r\n          name: string;\r\n          hair: string;\r\n        }>\r\n          initialValue={initialValue2}\r\n          ref={formRef}\r\n          onSubmit={mannuallySubmit}\r\n        >\r\n          <Form.Item\r\n            label=\"User Name\"\r\n            name=\"name\"\r\n            rules={[\r\n              { required: true },\r\n              {\r\n                type: 'string',\r\n                min: 5,\r\n              },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"User Hair\"\r\n            name=\"hair\"\r\n            rules={[\r\n              { type: 'string', min: 5, message: 'User hair must longer than 5' },\r\n              { required: true, message: 'hair is rrrrrrequired' },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"User Hair Plus\"\r\n            name=\"hair\"\r\n            rules={[\r\n              {\r\n                type: 'string',\r\n                asyncValidator: (rules, value) => {\r\n                  return new Promise((resolve, reject) => {\r\n                    setTimeout(() => {\r\n                      if (value.length < 10) {\r\n                        reject('too short');\r\n                      } else {\r\n                        resolve(undefined);\r\n                      }\r\n                    }, 2000);\r\n                  });\r\n                },\r\n              },\r\n            ]}\r\n          >\r\n            {({ withLabel, value, onChange }) =>\r\n              withLabel(<Input value={value} onChange={onChange} />)\r\n            }\r\n          </Form.Item>\r\n          <div>\r\n            <Form.SubmitButton primary>æäº¤ Submit</Form.SubmitButton>\r\n            &nbsp;\r\n            <Button type=\"reset\">é‡ç½® Reset</Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n      <br />\r\n      <Button loading={isValidating} onClick={mannuallySubmit}>\r\n        æ‰‹åŠ¨æäº¤ mannually validate and submit\r\n      </Button>\r\n      <br />\r\n      <br />\r\n      <Button onClick={() => formRef.current?.reset()}>æ‰‹åŠ¨é‡ç½® mannually reset</Button>\r\n    </>\r\n  );\r\n};\r\nexport default BasicUsage;\r\n",list:"import React, { useState } from 'react';\r\nimport { Button, Form, Input } from 'starfall';\r\n\r\nconst List: React.FC = () => {\r\n  const [initialValue] = useState({\r\n    name: '',\r\n    hair: [],\r\n  });\r\n\r\n  const formRef = Form.useRef<{\r\n    name: string;\r\n    hair: string[];\r\n  }>();\r\n\r\n  return (\r\n    <>\r\n      <Form<{\r\n        name: string;\r\n        hair: string[];\r\n      }>\r\n        initialValue={initialValue}\r\n        ref={formRef}\r\n        action={async v => alert('ğŸ‰' + JSON.stringify(v, null, 4))}\r\n      >\r\n        <Form.Item label=\"User Name\" name=\"name\" rules={{ required: true }}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item<string[]> name=\"hair\">\r\n          {({ value, onChange }) => {\r\n            return (\r\n              <>\r\n                {value.map((_, index) => {\r\n                  return (\r\n                    <Form.Item\r\n                      key={index}\r\n                      label={`User Hair ${index}`}\r\n                      name={`hair.${index}`}\r\n                      rules={[\r\n                        {\r\n                          type: 'string',\r\n                          asyncValidator: (rule, value) => {\r\n                            return new Promise((resolve, reject) => {\r\n                              setTimeout(() => {\r\n                                if (value.length < 5) {\r\n                                  reject('too short');\r\n                                } else {\r\n                                  resolve();\r\n                                }\r\n                              }, 2000);\r\n                            });\r\n                          },\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input />\r\n                    </Form.Item>\r\n                  );\r\n                })}\r\n                <Button\r\n                  onClick={() =>\r\n                    formRef.current?.set(v => ({\r\n                      ...v,\r\n                      hair: [...v.hair, Date.now().toString()],\r\n                    }))\r\n                  }\r\n                >\r\n                  Add\r\n                </Button>\r\n                <Button onClick={() => onChange(value.slice(0, -1))}>Rm</Button>\r\n              </>\r\n            );\r\n          }}\r\n        </Form.Item>\r\n        <Form.SubmitButton>æäº¤ Submit</Form.SubmitButton>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\nexport default List;\r\n",nesting:"import React, { useState } from 'react';\r\nimport { Form, Input } from 'starfall';\r\n\r\nconst List: React.FC = () => {\r\n  const [initialValue] = useState({\r\n    user: {\r\n      name: '',\r\n      hair: '',\r\n    },\r\n  });\r\n\r\n  const formRef = Form.useRef<{\r\n    user: {\r\n      name: string;\r\n      hair: string;\r\n    };\r\n  }>();\r\n\r\n  return (\r\n    <>\r\n      <Form<{\r\n        user: {\r\n          name: string;\r\n          hair: string;\r\n        };\r\n      }>\r\n        initialValue={initialValue}\r\n        ref={formRef}\r\n        action={async v => alert('ğŸ‰' + JSON.stringify(v, null, 4))}\r\n      >\r\n        <Form.Item<{\r\n          name: string;\r\n          hair: string[];\r\n        }> name=\"user\">\r\n          {({ value: user, onChange }) => {\r\n            return (\r\n              <>\r\n                <p>\r\n                  I got {user.name} and {user.hair}\r\n                </p>\r\n                <Form.Item label=\"User Name\" name=\"user.name\">\r\n                  {({ value, withLabel }) =>\r\n                    withLabel(\r\n                      (console.log('[docs][nesting] rerendered'),\r\n                      (\r\n                        <Input\r\n                          value={value}\r\n                          onChange={name =>\r\n                            onChange({\r\n                              ...user,\r\n                              name,\r\n                            })\r\n                          }\r\n                        />\r\n                      ))\r\n                    )\r\n                  }\r\n                </Form.Item>\r\n                <Form.Item label=\"User Hair (wrong usage)\" name=\"user.hair\">\r\n                  <Input />\r\n                </Form.Item>\r\n              </>\r\n            );\r\n          }}\r\n        </Form.Item>\r\n        <Form.SubmitButton>æäº¤ Submit</Form.SubmitButton>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\nexport default List;\r\n",pass:"import React, { useState } from 'react';\r\nimport { Form, Button, Input } from 'starfall';\r\n\r\nconst Pass: React.FC = () => {\r\n  const [initialValue] = useState({\r\n    hair: '',\r\n    checkHair: '',\r\n  });\r\n\r\n  const formRef = Form.useRef<{\r\n    hair: string;\r\n    checkHair: string;\r\n  }>();\r\n\r\n  return (\r\n    <>\r\n      <div style={{ maxWidth: 300 }}>\r\n        <Form<{ hair: string; checkHair: string }>\r\n          initialValue={initialValue}\r\n          ref={formRef}\r\n          action={async value => {\r\n            alert(`ğŸ‰${JSON.stringify(value, null, 4)}`);\r\n          }}\r\n        >\r\n          <Form.Item\r\n            label=\"User Hair\"\r\n            name=\"hair\"\r\n            rules={[\r\n              {\r\n                type: 'string',\r\n                validator: () => {\r\n                  formRef.current?.value.checkHair && formRef.current?.validate(['checkHair']);\r\n                  return [];\r\n                },\r\n              },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"User Hair Plus\"\r\n            name=\"checkHair\"\r\n            rules={[\r\n              {\r\n                type: 'string',\r\n                validator: (rules, value) => {\r\n                  if (formRef.current?.value.hair !== value) {\r\n                    return ['value must equal'];\r\n                  }\r\n                  return [];\r\n                },\r\n              },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <div>\r\n            <Form.SubmitButton primary>æäº¤ Submit</Form.SubmitButton>\r\n            &nbsp;\r\n            <Button type=\"reset\">é‡ç½® Reset</Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Pass;\r\n",remote:"import React, { useState } from 'react';\r\nimport { Form, Input } from 'starfall';\r\nimport { RuleItem } from 'async-validator';\r\n\r\nconst apiUser = (s: string) => {\r\n  return new Promise((resolve, reject) => {\r\n    setTimeout(() => {\r\n      if (/^\\d/.test(s)) {\r\n        reject({\r\n          code: 666,\r\n          message: 'username cannot starts with number 1234567890',\r\n        });\r\n      } else if (s === 'hack') {\r\n        reject({\r\n          code: 555,\r\n          message: 'server error',\r\n        });\r\n      }\r\n      resolve(0);\r\n    }, 2000);\r\n  });\r\n};\r\n\r\nconst BasicUsage: React.FC = () => {\r\n  const [initialValue] = useState({\r\n    name: '',\r\n  });\r\n\r\n  const formRef = Form.useRef();\r\n\r\n  const [nameRule, setNameRule] = useState<RuleItem[]>([{ required: true }]);\r\n  return (\r\n    <>\r\n      <Form<{\r\n        name: string;\r\n      }>\r\n        initialValue={initialValue}\r\n        ref={formRef}\r\n        action={[\r\n          async v =>\r\n            apiUser(v.name)\r\n              .then(() => {\r\n                alert('ğŸ‰ ' + v.name);\r\n              })\r\n              .catch(async e => {\r\n                if (e.code === 666 && e.message) {\r\n                  formRef.current?.setValidateStatus('name', {\r\n                    state: 'error',\r\n                    message: e.message,\r\n                  });\r\n                  setNameRule([\r\n                    { required: true },\r\n                    {\r\n                      validator(r, value, callback) {\r\n                        if (value === v.name) {\r\n                          callback('our api seems to not like this name, please pick another');\r\n                        }\r\n                        callback();\r\n                      },\r\n                    },\r\n                  ]);\r\n                } else {\r\n                  alert('ğŸ’¢ server error');\r\n                }\r\n              }),\r\n          errors => {\r\n            alert('ğŸ’¢' + JSON.stringify(errors, null, 4));\r\n          },\r\n        ]}\r\n      >\r\n        <Form.Item label=\"User Name\" name=\"name\" rules={nameRule}>\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.SubmitButton>æäº¤ Submit</Form.SubmitButton>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\nexport default BasicUsage;\r\n",status:"import React, { useEffect, useRef, useState } from 'react';\r\nimport { Form, Input } from 'starfall';\r\n\r\nconst api = (s: string): Promise<void> =>\r\n  new Promise((resolve, reject) =>\r\n    setTimeout(() => {\r\n      if (s.startsWith('0')) {\r\n        reject('cannot starts with zero');\r\n      }\r\n      resolve();\r\n    }, 2000)\r\n  );\r\n\r\nconst MyFormItem: React.FC = () => {\r\n  const [validating, setValidating] = useState(false);\r\n  const [validateSuccess, setValidateSuccess] = useState<string | undefined>();\r\n  const key = useRef(0);\r\n\r\n  return (\r\n    <Form.Item<string>\r\n      name=\"name\"\r\n      label=\"name\"\r\n      rules={[\r\n        {\r\n          async asyncValidator(rule, value) {\r\n            if (validateSuccess === value) {\r\n              return;\r\n            }\r\n\r\n            const k = ++key.current;\r\n            setValidating(true);\r\n            try {\r\n              await api(value);\r\n              if (key.current === k) {\r\n                setValidateSuccess(value);\r\n              }\r\n            } finally {\r\n              if (key.current === k) {\r\n                setValidating(false);\r\n              }\r\n            }\r\n\r\n            return;\r\n          },\r\n        },\r\n      ]}\r\n    >\r\n      {({ withLabel, value, onChange }) => {\r\n        return withLabel(\r\n          <div\r\n            style={{\r\n              borderWidth: 5,\r\n              borderStyle: 'solid',\r\n              borderColor: validateSuccess === value ? 'lime' : validating ? 'gray' : 'transparent',\r\n              transition: 'all .3s',\r\n            }}\r\n          >\r\n            <Input value={value} onChange={onChange} />\r\n          </div>\r\n        );\r\n      }}\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nconst WithStatus: React.FC = () => {\r\n  const [initialValue] = useState({\r\n    name: '',\r\n    hair: '',\r\n  });\r\n\r\n  const formRef = Form.useRef<{\r\n    name: '';\r\n    hair: '';\r\n  }>();\r\n\r\n  return (\r\n    <>\r\n      <Form<{\r\n        name: string;\r\n        hair: string;\r\n      }>\r\n        initialValue={initialValue}\r\n        ref={formRef}\r\n        action={async v => alert('ğŸ‰' + JSON.stringify(v, null, 4))}\r\n      >\r\n        <MyFormItem />\r\n        <Form.SubmitButton>æäº¤ Submit</Form.SubmitButton>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\nexport default WithStatus;\r\n"},E={zh:'## Form è¡¨å•\r\n\r\n:::demo{basic}\r\n\r\n### åŸºæœ¬ç”¨æ³•\r\n\r\n`Form.Item`ä¼šæ¥ç®¡å­å…ƒç´ `value`å’Œ`onChange`å±æ€§ï¼Œä¸” onChange çš„ç¬¬ä¸€å‚æ•°æ˜¯å€¼è€Œä¸æ˜¯äº‹ä»¶ã€‚åŒæ—¶ä¹Ÿæ”¯æŒä¼ å…¥`render props`ä½œå­å…ƒç´ ã€‚\r\n\r\n`Form.Item`**ä»…ä¸»åŠ¨è¾“å…¥æ—¶ä¼šè‡ªåŠ¨è§¦å‘æ ¡éªŒ**ã€‚**èŠ‚æµè§„åˆ™æ˜¯è¿ç»­è¾“å…¥æ—¶æ¯æ¬¡å¼‚æ­¥æ ¡éªŒéœ€ç­‰å¾…ä¸Šä¸€æ¬¡å®Œæˆï¼Œåœ¨ä¸æäº¤ä»…è¾“å…¥çš„æƒ…å†µä¸‹åŒæ—¶åªæœ‰ä¸€ä¸ªå¼‚æ­¥æ ¡éªŒåœ¨è°ƒç”¨**ã€‚\r\n\r\nç¬¬ä¸€ä¸ªè¡¨å•ä¼ å…¥`action`ï¼Œè‡ªåŠ¨æ ¡éªŒè‡ªåŠ¨æäº¤ï¼Œè‡ªåŠ¨æ ¡éªŒé‡Œé¢çš„ submit æŒ‰é’®ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°åŠ è½½çŠ¶æ€ã€‚\r\n\r\nç¬¬äºŒä¸ªè¡¨å•ä¼ å…¥`onSubmit`ï¼Œéœ€è¦åœ¨å¤–é¢ä¸»åŠ¨æ ¡éªŒä¸»åŠ¨ä¸ºæŒ‰é’®åˆ‡æ¢åŠ è½½çŠ¶æ€ã€‚å¦‚æœä¸åœ¨å¤–é¢åšèŠ‚æµå°±ä¼šåƒç¤ºä¾‹è¿™æ ·æ‰“ä¸¤æ¬¡å›è½¦æäº¤ä¸¤æ¬¡ã€‚\r\n\r\nè¿™ä¸¤ä¸ªå‚æ•°äº’æ–¥\r\n\r\n:::\r\n\r\n:::demo{pass}\r\n\r\n### é‡å¤å¯†ç \r\n\r\nè¡¨å•é¡¹é—´é€šä¿¡ï¼Œå¦‚æœä¸æ˜¯`element`æœ‰è¿™ä¸ªç¤ºä¾‹ï¼Œå·®ç‚¹å°±å»æŒ–å‘æ˜¾å¼ç›‘å¬æ¥å£äº†ã€‚\r\n\r\n:::\r\n\r\n:::demo{remote}\r\n\r\n### ä¿®æ”¹è§„åˆ™\r\n\r\nè¿™ä¸ªç¤ºä¾‹é‡Œä¸æ¥æ”¶ä»¥æ•°å­—å¼€å¤´çš„åå­—ï¼Œå½“ä¸æ¥æ”¶æ­¤å‚æ•°æ—¶ï¼Œè°ƒç”¨`setValidateStatus`å°†åç§°ç½®é”™ï¼Œå¹¶ä¸”æ”¹å˜`rules`ï¼Œå†æ¬¡è¾“å…¥åŒæ ·çš„åå­—ä¹Ÿä¼šè­¦å‘Šã€‚\r\n\r\n:::\r\n\r\n:::demo{list}\r\n\r\n### åˆ—è¡¨\r\n\r\nåµŒå¥—åŠ å¾ªç¯\r\n\r\n:::\r\n\r\n:::demo{nesting}\r\n\r\n### å‡çš„ç›‘å¬\r\n\r\nåˆ—è¡¨ä¸€èŠ‚å·²ç»å±•ç¤ºäº†åµŒå¥—ï¼ŒåµŒå¥—æ¯”èµ·å…¶å®ƒè¡¨å•åº“çš„åšæ³•å³ä¸»åŠ¨ç”¨ ref ç›‘å¬å€¼æ›´åŠ å®¹æ˜“ï¼Œæ¨¡å‹ä¹Ÿæ›´åŠ ç®€å•ã€‚\r\n\r\nä»¥ä¸‹è®²ä¼˜åŒ–ï¼š\r\n\r\nå¸¸è§„æƒ…å†µä¸‹ï¼Œä½ ä¼šæƒ³ï¼Œè¿™é‡Œæœ‰å¤§å°ä¸¤ä¸ªè®¢é˜…ï¼Œæ‰€ä»¥åµŒå¥—æ˜¯ä¼šå¯¼è‡´å±€éƒ¨å¤šæ¬¡æ¸²æŸ“çš„ï¼Œå¤§ Item ä¸€æ¬¡ï¼ˆå¤–å±‚çš„ Itemï¼‰ï¼Œå° Item ä¸€æ¬¡ï¼ˆå†…å±‚çš„ Itemï¼‰ï¼Œå¯¼è‡´æ¸²æŸ“ä¸¤æ¬¡ã€‚å°±å¥½æ¯”`react-redux hooks`ä¸€èŠ‚æåˆ°çš„ [performance](https://github.com/reduxjs/react-redux/blame/master/docs/api/hooks.md#L410) é—®é¢˜ã€‚è¿™é‡Œ`st-form`åœ¨å° Item é‡Œè§¦å‘çš„æ˜¯å¤§ Item çš„ `onChange`ï¼Œå¤§ Item çš„ `onChange` åªä¼šæ›´æ–°å¤§ Itemï¼Œå› ä¸ºå° Item çš„ `path` æ¯”å¤§ Item æ·±ä¸€å±‚ï¼Œå° Item çŸ¥é“è‡ªå·±ä¼šâ€˜è¢«â€™åˆ·æ–°ï¼Œæ‰€ä»¥æ‹’ç»ä¸»åŠ¨åˆ·æ–°äº†ã€‚\r\n\r\nç”±äºåµŒå¥—å¿…é¡»ä½¿ç”¨ render props å†™ï¼Œå¤§ Item çš„åˆ·æ–°è‡ªåŠ¨å¸¦åŠ¨äº†åˆ›å»ºä¸€ä¸ªæ–°çš„å° Itemï¼Œäºæ˜¯å° Item ä¹Ÿæ˜¯æ–°çš„äº†ã€‚\r\n\r\nè¡¨å•æ¥ç®¡é€»è¾‘çš„åŒæ—¶ä¹Ÿæ¥ç®¡æ¸²æŸ“ç»“æœï¼Œä¸”å­—æ®µéƒ½æœ‰ä¸€ä¸€å¯¹åº”çš„è¾“å…¥ç»„ä»¶ï¼Œä½¿ç”¨è¿™ç§åµŒå¥—ç­–ç•¥åˆé€‚ã€‚\r\n\r\n:::\r\n\r\n:::demo{status}\r\n\r\n### æ ¡éªŒçŠ¶æ€\r\n\r\n`Form`ä¹‹å‰æ˜¯å¸¦æœ‰çŠ¶æ€çš„ï¼Œä½†æ˜¯æ— ç¼˜æ— æ•…å»åˆ·æ–°çŠ¶æ€å°±ä¼šæ¸²æŸ“ 3 æ¬¡ï¼Œå¤šå‡ºæ¥çš„ä¸¤æ¬¡æ˜¯æ­£åœ¨æ ¡éªŒå’Œæ ¡éªŒæˆåŠŸçŠ¶æ€ã€‚\r\nå¯æ˜¯å®é™…ç”¨å¼‚æ­¥æ ¡éªŒ`asyncValidator`çš„åœºæ™¯è¿˜æ˜¯å¤ªå°‘äº†ï¼Œéƒ½æ˜¯åŒæ­¥æ ¡éªŒçš„ã€‚\r\n\r\nç§»é™¤äº†å¤šä½™é‡å¤æ¸²æŸ“åï¼Œç°åœ¨çš„æ ¡éªŒçŠ¶æ€åªæœ‰æ²¡é”™è¯¯å’Œé”™è¯¯ä¸¤ç§ï¼Œè‡ªç„¶éœ€è¦ä»¥æ›´å¤šçš„å¤–éƒ¨é€»è¾‘å¼¥è¡¥ã€‚\r\n\r\n:::\r\n\r\n### æ¥å£ç´¢å¼•\r\n\r\n| Form Property         | Description                                                      | Type                                                                                 |\r\n| --------------------- | ---------------------------------------------------------------- | ------------------------------------------------------------------------------------ |\r\n| initialValue:required | åˆå§‹å€¼ï¼Œåªè®¤é¦–æ¬¡æ¸²æŸ“ä¼ è¿›å»çš„é‚£ä¸ª                                 | `Record<string, unknown>`                                                            |\r\n| action                | è¡¨å•éªŒè¯æˆåŠŸåè°ƒç”¨çš„æ–¹æ³•                                         | `(value: T) => Promise<void> / void`                                                 |\r\n| action                | ä¹Ÿèƒ½ä¼ æ•°ç»„ï¼Œç¬¬ä¸€ä¸ªæ˜¯ actionï¼Œç¬¬äºŒä¸ªæ˜¯æ ¡éªŒå¤±è´¥æ—¶æ‰§è¡Œ              | ` [(value: T) => Promise<void> / void, (errors: ErrorList) => Promise<void> / void]` |\r\n| onSubmit              | ç›‘å¬è¡¨å•çš„æäº¤ï¼Œæ­¤æ—¶éœ€è¦æ‰‹åŠ¨æ ¡éªŒå’Œæäº¤å’Œç¦ç”¨æŒ‰é’®ï¼Œå’Œ`action`äº’æ–¥ | `(value: T) => void`                                                                 |\r\n\r\n| Form Instance     | Description                    | Type                                                          |\r\n| ----------------- | ------------------------------ | ------------------------------------------------------------- |\r\n| setInitialValue   | åªèƒ½é€šè¿‡æ­¤ç§æ–¹å¼è®¾ç½®è¡¨å•åˆå§‹å€¼ | `(initialValue?: T) => void`                                  |\r\n| validate          | æŠ¢å åœ°è§¦å‘è¡¨å•ï¼ˆé¡¹ï¼‰çš„éªŒè¯     | `(names?: string[]) => Promise<T>`                            |\r\n| reset             | æ¸…ç©ºè¡¨å•ï¼ˆé¡¹ï¼‰çš„éªŒè¯çŠ¶æ€åŠæ•°æ® | `(names?: string[]) => void`                                  |\r\n| set               | è®¾ç½®è¡¨å•çš„å€¼                   | `(callback: (value: T) => T) => void`                         |\r\n| value (getter)    | è·å¾—è¡¨å•çš„å€¼                   | `T`                                                           |\r\n| setValidateStatus | è®¾ç½®æŸè¡¨å•é¡¹çš„éªŒè¯çŠ¶æ€         | `(name: string, validateStatus: ValidateStatusParam) => void` |\r\n\r\n| Form.Item Property | Description                                             | Type                    |\r\n| ------------------ | ------------------------------------------------------- | ----------------------- |\r\n| name:required      |                                                         | `string`                |\r\n| label              |                                                         | `string`                |\r\n| rules              | æŸ¥é˜…`async-validator`ï¼Œå¯å˜ï¼Œä½†å½“è§„åˆ™æ”¹å˜æ—¶ä¸ä¼šè‡ªåŠ¨æ ¡éªŒ | `RuleItem`/`RuleItem[]` |\r\n\r\n### åŸç†\r\n\r\nç¡®å®æœ‰äººå¿«ä¸€æ­¥åˆ†æå¸‚é¢ä¸Šçš„è¡¨å•ï¼Œ[React è¡¨å•æºç é˜…è¯»ç¬”è®° ğŸ‘](https://zhuanlan.zhihu.com/p/352181528)ã€‚\r\n\r\n`material-ui` å’Œ `chakra-ui` `semantic-ui` `react-bootstrap`ç­‰å¤§éƒ¨åˆ†ä¸å…·å¤‡è¡¨å•éªŒè¯åŠŸèƒ½ï¼Œå¯é€‰çš„éªŒè¯å·¥å…·æ˜¯ [`formik`](https://github.com/formium/formik)ï¼Œ formik ä½¿ç”¨ [`Yup`](https://formik.org/docs/tutorial#schema-validation-with-yup) åš Schema éªŒè¯ã€‚\r\n\r\n`antd` å³ `rc-field-form` å’Œ `element/element-plus` ä½¿ç”¨[`async-validator`](https://github.com/yiminghe/async-validator) åš Schema éªŒè¯ã€‚\r\n\r\n`antd` å’Œ `formik` å€¾å‘ä½¿ç”¨éå—æ§æ¨¡å¼ï¼Œå³è¡¨å•çŠ¶æ€ä¸æ”¾å¤–è¾¹ï¼Œè¿™æ ·çš„å¥½å¤„ä¸€ä¸ªæ˜¯è¾“å…¥æ—¶åªæœ‰è¡¨å•å†…éƒ¨åœ¨é‡æ¸²æŸ“ã€‚\r\n\r\nå‡å¦‚è¡¨å•çš„å€¼æ”¾å¤–é¢ï¼Œæ¯æ¬¡è¾“å…¥(å³`setState`)éƒ½ä¼šå¼•èµ·æŒæœ‰è¯¥çŠ¶æ€çš„ç»„ä»¶ï¼ˆå¾ˆå¯èƒ½æ˜¯é¡µé¢ï¼‰çš„æ•´ä½“åˆ·æ–°ã€‚å¾ˆå¤šä¸šåŠ¡å€¾å‘äºå¤–éƒ¨è¦è®¿é—®åˆ°è¡¨å•çš„å€¼ã€‚æ¯”å¦‚ç”¨æˆ·è¾“å…¥äº† a å°±æ˜¾ç¤º b è¾“å…¥æ¡†ï¼Œè¿™ä¸ªåœ¨éå—æ§æ¨¡å¼æ˜¯åšä¸åˆ°çš„ï¼Œå› ä¸ºå¤–é¢è·å–ä¸åˆ°è¡¨å•é‡Œçš„çŠ¶æ€ã€‚\r\n\r\n- `antd` é»˜è®¤å±€éƒ¨åˆ·æ–°ï¼Œå› ä¸ºæ¯æ¬¡æ›´æ–°ä¼šè§¦å‘æ‰€æœ‰[Field çš„å›è°ƒ](https://github.com/react-component/field-form/blob/e118381c2102b36c4ffe7e17a6415df091e772b7/src/Field.tsx#L216)è®©å…¶å„è‡ªæ¯”å¯¹æ–°æ—§å€¼åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œåœ¨ä½¿ç”¨[render props æ¨¡å¼](https://github.com/react-component/field-form/blob/e118381c2102b36c4ffe7e17a6415df091e772b7/docs/examples/renderProps.tsx#L17)æ­¤åŠŸèƒ½å¤±æ•ˆï¼Œè¡¨å•æ•´ä½“åˆ·æ–°ï¼Œæ‰€ä»¥æ–‡æ¡£é‡Œæç¤ºè¿™ä¸ªæ€§èƒ½æ›´å·®ã€‚\r\n- `formik` é»˜è®¤æ•´ä½“åˆ·æ–°è¡¨å•ï¼Œé¢å¤–çš„ä¼˜åŒ–æ‰‹æ®µæ˜¯ FastField ç»„ä»¶ï¼Œè¯¥ç»„ä»¶æœ‰ shouldComponentUpdate æ–¹æ³•å„è‡ªæ¯”å¯¹æ–°æ—§å€¼ï¼Œèƒ½å¤Ÿåˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ã€‚\r\n\r\n[åªè¦ vue å¤Ÿå¿«å°±ä¸ç”¨ä¼˜åŒ–](https://www.zhihu.com/question/453332049/answer/1844784032)ã€‚\r\n\r\nè¡¨å•æ ¸å¿ƒå’Œå†™æŠ˜å é¢æ¿ä¸€æ ·ç”¨ä¼ ç»Ÿçš„è®¢é˜…æ¨¡å¼å°±èƒ½è§£å†³ã€‚\r\n\r\n`muse-ui`çš„æºç æ¯”è¾ƒç²¾ç®€ï¼Œæ¨èå…¥é—¨é˜…è¯»ï¼Œç„¶åæ˜¯`element/element-plus`ã€‚\r\n\r\n`starfall` å°è¯•è¿‡ä½¿ç”¨å—æ§è¡¨å•ï¼Œæ„Ÿè§‰ä¸åˆç¾¤ï¼Œå½“é‡åˆ°æ€§èƒ½å·®çš„æƒ…å†µæ—¶åœ¨å—æ§æ¨¡å¼æ˜¯æ²¡æœ‰è§£å†³åŠæ³•é¿å…çš„ã€‚è¿˜æ˜¯å¸Œæœ›å®ƒèƒ½é€‚åˆä»»ä½•åœºæ™¯ã€‚ç»è¿‡äº†å¤§çš„é‡æ”¹ï¼Œç°åœ¨å°±æ˜¯éå—æ§äº†ã€‚æ‰€ä»¥`st-form`æ˜¯é«˜æ€§èƒ½çš„ã€‚\r\n\r\n### å¯è®¿é—®æ€§\r\n\r\n- ä¾æ®è¡¨å•è§„èŒƒï¼Œæ”¯æŒéšå¼æäº¤\r\n\r\n> å¤ªé•¿ä¸çœ‹: **æ·»åŠ  submit æŒ‰é’®å³å¯æ”¯æŒéšå¼æäº¤è¡¨å•,å³æ”¯æŒå›è½¦é”®æäº¤**\r\n>\r\n> 4.10.21.2 Implicit submission\r\n> A form element\'s default button is the first submit button in tree order whose form owner is that form element.\r\n>\r\n> If the user agent supports letting the user submit a form implicitly (for example, on some platforms hitting the "enter" key while a text control is focused implicitly submits the form), then doing so for a form, whose default button has activation behavior and is not disabled, must cause the user agent to fire a click event at that default button.\r\n>\r\n> There are pages on the web that are only usable if there is a way to implicitly submit forms, so user agents are strongly encouraged to support this.\r\n>\r\n> If the form has no submit button, then the implicit submission mechanism must do nothing if the form has more than one field that blocks implicit submission, and must submit the form element from the form element itself otherwise.\r\n>\r\n> For the purpose of the previous paragraph, an element is a field that blocks implicit submission of a form element if it is an input element whose form owner is that form element and whose type attribute is in one of the following states: Text, Search, URL, Telephone, Email, Password, Date, Month, Week, Time, Local Date and Time, Number\r\n>\r\n> [HTML Spec form-control-infrastructure.implicit-submission](https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#implicit-submission)\r\n>\r\n> [The Enter Key should Submit Forms, Stop Suppressing it](https://www.tjvantoll.com/2013/01/01/enter-should-submit-forms-stop-messing-with-that/)\r\n\r\n> W3C æ ‡å‡†ä¸­æœ‰å¦‚ä¸‹è§„å®šï¼š\r\n>\r\n> When there is only one single-line text input field in a form, the user agent should accept Enter in that field as a request to submit the form.\r\n>\r\n> å³ï¼šå½“ä¸€ä¸ª form å…ƒç´ ä¸­åªæœ‰ä¸€ä¸ªè¾“å…¥æ¡†æ—¶ï¼Œåœ¨è¯¥è¾“å…¥æ¡†ä¸­æŒ‰ä¸‹å›è½¦åº”æäº¤è¯¥è¡¨å•ã€‚å¦‚æœå¸Œæœ›é˜»æ­¢è¿™ä¸€é»˜è®¤è¡Œä¸ºï¼Œå¯ä»¥åœ¨ <el-form> æ ‡ç­¾ä¸Šæ·»åŠ  @submit.native.preventã€‚\r\n>\r\n> https://element-plus.org/#/zh-CN/component/form\r\n',en:"## Form\r\n"};export default()=>m.createElement(d,{requireDemo:F,requireRaw:I,requireMd:E});
