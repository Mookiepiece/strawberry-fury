## St Collapse æŠ˜å é¢æ¿

### åŸç†

å¦‚æœä½ çš„é¢æ¿æœ‰è®¾ç½®`height`ï¼Œé‚£ä¹ˆä¼ ç»Ÿçš„åŠ¨ç”»æ–¹æ¡ˆå°±èƒ½å®ç°ã€‚ä½†é¢æ¿æ˜¯æ²¡æœ‰è‡ªå®šä¹‰è®¾ç½®é«˜åº¦å±æ€§æ—¶é»˜è®¤æ˜¯ `height:auto`ï¼Œæ­¤æ—¶åŠ¨ç”»ä¸ç”Ÿæ•ˆï¼Œæ‰€ä»¥åº”æå‰ä¸€å¸§è®¾ç½®é«˜åº¦ã€‚

Bootstrap å’Œ W3Schools ä½¿ç”¨äº† scrollHeightï¼Œè¿™ä¸ªå±æ€§æœ‰æ„æ€çš„åœ°æ–¹åœ¨äºå®ƒçš„å€¼åªå’Œå†…éƒ¨å†…å®¹æœ‰å…³ï¼Œä½ è®¾ç½®äº†`height`æˆ–è€…`max-height`å®ƒä¾æ—§ä¿æŒä¸å˜ã€‚
æ‰€ä»¥æˆ‘ä»¬çš„æŠ˜å é¢æ¿çš„æœ€å¤§å€¼æ˜¯å›ºå®šçš„ï¼Œæœ€å°å€¼ä¹Ÿæ˜¯å›ºå®šçš„ 0ã€‚
è¯•æƒ³ä¸€ä¸‹è¿™ç§æƒ…å†µï¼ŒæŠ˜å åˆ°äº†ä¸€åŠçªç„¶ç‚¹å‡»åˆåç€æŠ˜å›å»äº†ï¼Œ
å› ä¸ºæŠ˜å åˆ°ä¸€åŠçš„æ—¶å€™ clientHeight å’Œ offsetHeight éƒ½æ˜¯å½“å‰å€¼ï¼Œè€Œé€šè¿‡æ°¸è¿œä¸å˜çš„ scrollHeight ä½ å¯ä»¥çŸ¥é“æœ€å¤§å€¼å¹¶ä¸”ä»¥æ­¤æŠ˜è¿”ã€‚

å“ªæ€•å­å…ƒç´ è®¾ç½®äº†`height:0`ï¼Œ`scrollHeight` ä¾æ—§ä¼šå°†å­å…ƒç´ çš„å®é™…é«˜åº¦çº³å…¥è®¡ç®—ï¼Œ
ä»¥åŠå¯èƒ½ä¼šæŠŠå­å…ƒç´ çš„ä¸‹`margin`çº³å…¥è®¡ç®—å¯¼è‡´å‡ºç°ä¸€ä¸ª`margin`è·ç¦»çš„åŠ¨ç”»æ–­å±‚ï¼Œ
è§£å†³æ–¹æ³•æ˜¯æ–°å»º[å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ ğŸ‘](https://zhuanlan.zhihu.com/p/131402341)ï¼Œå¾ˆç®€å•ï¼Œç»™ panel è®¾ç½® overflow:hidden å°±å¯ä»¥äº†

- [Bootstrap: collapse.js](https://github.com/twbs/bootstrap/blob/main/js/src/collapse.js#L202)
- [W3schools: Collapse ğŸ‘](https://www.w3schools.com/howto/howto_js_collapsible.asp)

é¢å¤–çš„ï¼šå¦ä¸€ä¸ªæŠ•æœºå–å·§çš„æ–¹æ³•æ˜¯è®¾ç½® `max-height` ä»£æ›¿ `height`, ä½†æ˜¯å¯ä»¥çœ‹åˆ°æ˜æ˜¾çš„å»¶è¿Ÿï¼Œå› ä¸º max-height æ€»æ˜¯ä¸€ä¸ªæº¢å‡ºçš„å¾ˆé«˜çš„å€¼ï¼Œé™ä½åˆ°æœ¬ä½“çš„é«˜åº¦è¿˜æ˜¯éœ€è¦æ—¶é—´çš„

- [Toggle Collapse - Animate Height (pure JS) ğŸ‘](https://codepen.io/davidcochran/pen/RNOOEO)

### æ‰‹é£ç´

`Collapse.Summary`ä¼šç»™å…¶å­å…ƒç´ é™„åŠ `active`ç±»ï¼Œå¹¶ç½®æ¢å…¶ onClick äº‹ä»¶

DEMO{{./basic.tsx}}

### ç‹¬ç«‹é¢æ¿

åªç”¨ Panel æä¾›åŠ¨ç”»æ•ˆæœï¼Œåœ¨å¤æ‚åœºæ™¯å°¤ä¸ºæœ‰ç”¨

DEMO{{./individual.tsx}}

### æ¥å£ç´¢å¼•

| Collapse Property | Description         | Type       | Default | Required |
| ----------------- | ------------------- | ---------- | ------- | -------- |
| activeNames       | default activeNames | `string[]` | `[]`    |          |

| Collapse.Item Property | Description                                             | Type     | Default | Required |
| ---------------------- | ------------------------------------------------------- | -------- | ------- | -------- |
| name                   | custom key, default is auto generated by upper Collapse | `string` |         |          |

| Collapse.Panel Property | Description                                            | Type       | Default | Required |
| ----------------------- | ------------------------------------------------------ | ---------- | ------- | -------- |
| active                  | visibility control, could omit if inside Collapse.Item | `string[]` | `[]`    |          |
